{% extends 'base.html' %}

{% block content %}

{% load static %}

<!-- adding css for search box -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
body {
  font-family: Arial;
}

* {
  box-sizing: border-box;
}

form.example input[type=text] {
  padding: 10px;
  font-size: 17px;
  border: 1px solid grey;
  float: left;
  width: 80%;
  background: #f1f1f1;
}

form.example button {
  float: left;
  width: 20%;
  padding: 10px;
  background: #2196F3;
  color: white;
  font-size: 17px;
  border: 1px solid grey;
  border-left: none;
  cursor: pointer;
}

form.example button:hover {
  background: #0b7dda;
}

form.example::after {
  content: "";
  clear: both;
  display: table;
}
</style>


  <!-- Page Content -->
  <!-- Banner Starts Here -->
  <div class="banner">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="caption">
            <h2>Ecommerce HTML Template</h2>
            <div class="line-dec"></div>
            <p>Pixie HTML Template can be converted into your desired CMS theme. Total <strong>5 pages</strong> included. You can use this Bootstrap v4.1.3 layout for any CMS. 
            <br><br>Please tell your friends about <a rel="nofollow" href="https://www.facebook.com/tooplate/">Tooplate</a> free template site. Thank you. Photo credit goes to <a rel="nofollow" href="https://www.pexels.com">Pexels website</a>.</p>
            <div class="main-button">
              <a href="#">Order Now!</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Banner Ends Here -->


<!-- Featured Starts Here -->
  <div class="featured-items">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="section-heading">
            <div class="line-dec"></div>
            <h1>Featured Items</h1>
          </div>
        </div>
        <div class="col-md-12">
          <div class="owl-carousel owl-theme">
            <a href="\{% url 'login' %}">
              <div class="featured-item">
                <img src="{% static 'web_apps/assets/images/item-01.jpg' %}" alt="Item 1">
                <h4>Proin vel ligula</h4>
                <h6>$15.00</h6>
              </div>
            </a>
            <a href="single-product.html">
              <div class="featured-item">
                <img src="{% static 'web_apps/assets/images/item-02.jpg' %}" alt="Item 2">
                <h4>Erat odio rhoncus</h4>
                <h6>$25.00</h6>
              </div>
            </a>
            <a href="single-product.html">
              <div class="featured-item">
                <img src="{% static 'web_apps/assets/images/item-03.jpg' %}" alt="Item 3">
                <h4>Integer vel turpis</h4>
                <h6>$35.00</h6>
              </div>
            </a>
            <a href="single-product.html">
              <div class="featured-item">
                <img src="{% static 'web_apps/assets/images/item-04.jpg' %}" alt="Item 4">
                <h4>Sed purus quam</h4>
                <h6>$45.00</h6>
              </div>
            </a>
            <a href="single-product.html">
              <div class="featured-item">
                <img src="{% static 'web_apps/assets/images/item-05.jpg' %}" alt="Item 5">
                <h4>Morbi aliquet</h4>
                <h6>$55.00</h6>
              </div>
            </a>
            <a href="single-product.html">
              <div class="featured-item">
                <img src="{% static 'web_apps/assets/images/item-06.jpg' %}" alt="Item 6">
                <h4>Urna ac diam</h4>
                <h6>$65.00</h6>
              </div>
            </a>
            <a href="single-product.html">
              <div class="featured-item">
                <img src="{% static 'web_apps/assets/images/item-04.jpg' %}" alt="Item 7">
                <h4>Proin eget imperdiet</h4>
                <h6>$75.00</h6>
              </div>
            </a>
            <a href="single-product.html">
              <div class="featured-item">
                <img src="{% static 'web_apps/assets/images/item-05.jpg' %}" alt="Item 8">
                <h4>Nullam risus nisl</h4>
                <h6>$85.00</h6>
              </div>
            </a>
            <a href="single-product.html">
              <div class="featured-item">
                <img src="{% static 'web_apps/assets/images/item-06.jpg' %}" alt="Item 9">
                <h4>Cras tempus</h4>
                <h6>$95.00</h6>
              </div>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
<!-- Featred Ends Here -->
  <!-- Featured Starts Here 2-->
  <form method="post" class="example" action="" style="margin:auto;max-width:350px">
    {% csrf_token %}
    <input type="text" placeholder="Search.." name="search">
    <button type="submit"><i class="fa fa-search"></i></button>
  </form>
  <br>

  <div class="featured-items">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="section-heading">
            <div class="line-dec"></div>
            <h1>Islamic Books</h1>
          </div>
        </div>
        <div class="col-md-12">
          <div class="owl-carousel owl-theme">
    {% if result %}
      {% for book in result %}
      <div class="container px-4">
        <div class="row gx-5">
          <div class="col">
            <a href=""   data-bs-toggle="modal"
            class="building-link"
           data-toggle="modal"
           data-target="#building-modal"
           data-image="{{book.image.url}}"
           data-publisher="{{book.publisher}}"
           data-name="{{book.product_name}}">
           <img src="{{book.image.url}}" class="img-thumbnail" alt="..."></a>
          <div class="card-body">
            <h5 class="card-title">{{book.product_name}}</h5>
            <p class="card-text">{{book.publisher}}</p>
              <!-- pass data to model like current title,image and so on use class here building  -->
            <center><input type="submit" class="btn btn-primary btn-sm" value="Buy Now"></center>
          </div>
          </div>
          </div>
          </div>
      </div>
      {% endfor %}
    {% else %}
      {% for book in books %}
      <div class="container px-3">
        <div class="row gx-5">
          <div class="col">
           <div class="p-3 border bg-light">
            <a href=""   data-bs-toggle="modal"
             class="building-link"
            data-toggle="modal"
            data-target="#building-modal"
            data-image="{{book.image.url}}"
            data-publisher="{{book.publisher}}"
            data-name="{{book.product_name}}">
            <img src="{{book.image.url}}" class="img-thumbnail" alt="..."></a>
            <div class="card-body">
              <h5 class="card-title">{{book.product_name}}</h5>
              <p class="card-text">{{book.publisher}}</p>
              <!-- pass data to model like current title,image and so on use class here building  -->
              <center><input type="submit" class="btn btn-primary btn-sm" value="Buy Now"></center>
            </div>
           </div>
          </div>
          </div>
      </div>
      {% endfor %}
    {% endif %}
      </div>
    </div>  
    </div>

  <!-- This is our blank modal, with ids for the values to be injected -->
  <div class="modal fade mymodal in " id="building-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
  aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <!-- <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button> -->
                <h4 class="modal-title" id="building-name"></h4>
            </div>
            <div class="modal-body">
                <p id="building-publisher"></p>
                <!-- <img id="building-image" src=""/> -->
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
  </div>
<!-- for pass current product data to popup or model  -->
<!-- When a link is clicked, grab all the data values and pop them inro the modal -->

<!-- online jquery -->
<script src="https://code.jquery.com/jquery-3.6.0.slim.js" integrity="sha256-HwWONEZrpuoh951cQD1ov2HUK5zA5DwJ1DNUXaM6FsY=" 
crossorigin="anonymous"></script>
<!-- When a link is clicked, grab all the data values and pop them inro the modal -->
<script>
  $('.building-link').click(function(){
      $('#building-name').html($(this).data('name'));
      $('#building-publisher').html($(this).data('publisher'));
      $('#building-image').src($(this).data('image'));
  });
  </script>
{% endblock %}